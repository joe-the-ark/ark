{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" href="/static/images/favicon.ico"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"/>
    <meta name="theme-color" content="#51ceec"/>
    <meta name="description" content="Web site"/>
    <title>Title</title>
    <link rel="stylesheet" href="/static/css/app.css">
    <link rel="stylesheet" href="/static/css/spannungsfelder.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
</head>
<body>
<div class="app">
    <div class="app__head">
        <header class="header-main container">
            <div class="header-main__title">
                <span class="icon-logo"></span>
                <span>ARK</span>
            </div>
            <div class="header-main__user">
                <div class="user">
                    <div class="user__subtitle">
                        Fische im Aquarium
                    </div>
                    <img src="/static/images/avatars/boar.svg" alt="boar">
                    <div class="user__title">
                        Vasilisa Kochetkova
                    </div>
                </div>
            </div>
            <div class="header-main__progress">
                <div class="progress">
                    <label>Mission 1</label>
                    <div class="progress__bar">
                        <div style="width: 10%">10%</div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <div class="app__body">
        <div class="container">
            <main class="screen spannungsfelder">
                <h1>
                    Spannungsfelder
                </h1>
                <p>
                    Spannungsfelder: Diese Kräfte beschreiben deinen Einfluss auf eure
                    Teamdynamik:
                </p>
                <ul>
                    <li>
                        Weiss deutet auf Spannungsfreiheit hin.
                    </li>
                    <li>
                        Werte über 16 deuten auf Spannungen im Team hin.
                    </li>
                    <li>
                        Bei roten Werten liegt deine Selbstwahrnehmung ausserhalb der
                        psychologischen Sicherheitszone.
                    </li>
                    <li>
                        Bei gelben Werten liegt die Fremdwahrnehmung ausserhalb der
                        psychologischen Sicherheitszone.
                    </li>
                    <li>
                        Bei gelben und roten Werten liegen deine Selbst- und die Fremdwahrnehmung ausserhalb der
                        psychologischen Sicherheitszone eures Teams.
                    </li>
                </ul>
                <p>
                    (please put this text bellow the tension scale) Grün eingefärbt siehst du die
                    psychologischen Sicherheitszonen deines Teams. Erkennst du, ob dein
                    Beitrag zur Teamdynamik eher als ausgleichend oder spaltend wahrgenommen
                    wird? Wie erklärst du die Unterschiede in deiner Selbstwahrnehmung und der
                    Fremdwahrnehmung durch das Team? Möchtest du erraten, wie du von jedem
                    Teammitglied eingeschätzt wirst? Dann spiel weiter!
                </p>
                <div id="rang-slider" class="swiper-container">
                    <div class="swiper-wrapper">
                    </div>
                </div>
                <div class="custom-graph-info">
                    <div class="custom-graph-info__item small" data-text="Others">
                        15
                    </div>
                    <div class="custom-graph-info__item base" data-text="Self">
                        49
                    </div>
                    <div class="custom-graph-info__item large" data-text="Tension">
                        99
                    </div>
                </div>
                <div id="graph-slider" class="swiper-container">
                    <div class="swiper-wrapper">
                    </div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-pagination"></div>
                </div>
                <div class="custom-graph1"></div>
                <div class="custom-graph2"></div>
                <div class="center">
                    <a href="#" class="button" id="button">
                        Weiterspielen
                    </a>
                </div>
            </main>
        </div>
    </div>
</div>
<script src="/static/js/AppRange.js"></script>
<script src="/static/js/AppGraph.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    const isMobile = () => window.innerWidth <= 1200;
    const data = [
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    name: 'Bob Stampton',
                    avatar: '/static/images/avatars/hen.svg',
                    statusSide: 10
                },
                {
                    name: 'Garry Garrison',
                    avatar: '/static/images/avatars/horse.svg',
                    statusSide: 20
                },
                {
                    name: 'Johny Depp',
                    avatar: '/static/images/avatars/crow.svg',
                    statusSide: 45
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 49
                },
                {
                    name: 'Bruce Vilis',
                    avatar: '/static/images/avatars/bear.svg',
                    statusSide: 49
                },
                {
                    name: 'Donkey kong',
                    avatar: '/static/images/avatars/dog.svg',
                    statusSide: 49
                },
                {
                    name: 'Mister V',
                    avatar: '/static/images/avatars/beaver.svg',
                    statusSide: 49
                },
                {
                    name: 'Graf Dracula',
                    avatar: '/static/images/avatars/buffalo.svg',
                    statusSide: 49
                },
                {
                    name: 'Anthony Hopkins',
                    avatar: '/static/images/avatars/kangaroo.svg',
                    statusSide: 49
                },
                {
                    name: 'Vladimir',
                    avatar: '/static/images/avatars/donkey.svg',
                    statusSide: 60
                },
                {
                    name: 'Irina Shake',
                    avatar: '/static/images/avatars/giraffe.svg',
                    statusSide: 70
                },
                {
                    name: 'Conan Barbarian',
                    avatar: '/static/images/avatars/fox.svg',
                    statusSide: 99
                },

            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 70
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 20
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 99
                },
            ]
        },
        {
            range: [1, 99],
            labelRange: ['Ehrlichkeit', 'Betrug'],
            data: [
                {
                    statusSide: 10
                },
                {
                    statusSide: 45
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 49
                },
                {
                    statusSide: 60
                },
                {
                    statusSide: 70
                },
                {
                    statusSide: 83
                },
                {
                    name: 'Vasilisa Kochetkova',
                    avatar: '/static/images/avatars/boar.svg',
                    statusSide: 99
                },
            ]
        }
    ];

    const wrapper = document.querySelector('#graph-slider .swiper-wrapper');
    let htmlWrappers = ``;

    data.forEach((item, i) => {
        htmlWrappers += `<div class="swiper-slide slide-${i}"></div>`;
    });

    wrapper.innerHTML = htmlWrappers;

    new AppRange({
        container: '#rang-slider',
        innerWrapper: isMobile() ? 'rang swiper-wrapper' : 'rang',
        data: data.map(({data}) => {
            const dataSort = data.filter(el => el.name);
            const {name, avatar, statusSide} = dataSort[0];
            return {
                name,
                avatar,
                statusSide
            }
        }),
        callback(item, i) {
            if (!isMobile()) {
                const itemClickable = document.querySelectorAll('#graph-slider .swiper-pagination-bullet');
                itemClickable[i].click();
                item.classList.add('active');
            }
        },
        update(item) {
            if (!isMobile()) {
                item.classList.remove('active');
            }
        },
        loadEnd() {
            if (isMobile()) {
                new Swiper(this.container, {
                    slidesPerView: 6,
                    spaceBetween: 0,
                    centeredSlides: true,
                    grabCursor: true,
                    loop: true,
                    breakpoints: {
                        768: {
                            slidesPerView: 3,
                            spaceBetween: 0,
                        },
                        480: {
                            slidesPerView: 2,
                            spaceBetween: 0,
                        },
                        320: {
                            slidesPerView: 1,
                            spaceBetween: 0,
                        },
                    },
                    navigation: {
                        nextEl: '.rang-button-next',
                        prevEl: '.rang-button-prev',
                    },
                    on: {
                        slideChange(a, b, c) {
                            const index = a.realIndex;
                            const itemClickable = document.querySelectorAll('#graph-slider .swiper-pagination-bullet');
                            itemClickable[index].click();
                        }
                    }
                });
            }
        }
    });

    data.forEach((item, i) => {
        new AppGraph({
            container: `.swiper-slide.slide-${i}`,
            range: item.range,
            labelRange: item.labelRange,
            mobile: 1200,
            statistic: true,
            data: item.data
        });
    });

    new Swiper('#graph-slider', {
        grabCursor: true,
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true
        }
    });

</script>
</body>
</html>
