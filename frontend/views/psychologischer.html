{% load i18n %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" href="/static/images/favicon.ico"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"/>
    <meta name="theme-color" content="#51ceec"/>
    <meta name="description" content="ARK"/>
    <title>Safety-Score-RESULT</title>
    <link rel="stylesheet" href="/static/css/app.css">
    <link rel="stylesheet" href="/static/css/boxings.css">

</head>
<body>
<div class="app">
    <div class="app__head">
        <header class="header-main container">
            <div class="header-main__title">
                <icon classs="icon" onClick="window.open('https://info.arks.ch/');">
                <span class="icon-logo"></span>
                <span>ARK</span>
            </div>
            <div class="header-main__user">
                <div class="user">
                    <div class="user__subtitle">
                        {{game.name}}
                    </div>
                    <img src="{{user.avatar}}" alt="">
                    <div class="user__title">
                        {{user.name}}
                    </div>
                </div>
            </div>
            <div class="header-main__progress">
                <div class="progress">
                    <label>{% trans "TEAM CLIMATE" %}</label>
                    <div class="progress__bar">
                        <div style="width: 70%">70%</div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <div class="app__body" id="app-1">
        <div class="container">
            <main class="screen psychologischer">
                <h1>
                    {% trans "Euer psychologischer Sicherheitswert" %}
                </h1>
                <p>
                    {% trans "Hier siehst du den psychologische Sicherheitswert für dein Team auf einer Skala zwischen 0 (sehr unsicher) bis 99 (aussergewöhnlich sicher). Welches Verhalten trägt zur psychologischen Sicherheit bei?" %} 
                </p>

                <div class="psychologischer__container">
                    <div class="distry">
                        <div class="distry__description" style="background-color: #9FE2BF; color: #626262;">
                            {% trans "Schwierige Themen können wir meist gut zusammen anschauen." %}
                        </div>
                        <div class="distry__thumbnails">
                            <div class="distry__user" v-for="count in row0">

                            </div>
                        </div>
                    </div>
                    <div class="team-average">
                        <div class="team-average__wrapper">
                        <div class="team-average__range" v-bind:style="{ width: widthCalc }">
                                <div class="team-average__circle">[[ score ]]</div>
                            </div>
                            <div class="team-average__down">99</div>
                            <div class="team-average__up">1</div>
                        </div>
                    </div>
                    <div class="distry">
                        <div class="distry__description" style="background-color: #fa5252; color: white;">
                            {% trans "Ich beobachte, wie du gelegentlich Menschen im Team ausschliesst." %}
                        </div>
                        <div class="distry__thumbnails">
                            <div class="distry__user" v-for="count in row1">

                            </div>
                        </div>
                    </div>
                    <div class="distry">
                        <div class="distry__description" style="background-color: #FAE03C; color: #626262;">
                            {% trans "Für mich bist du im Team nicht immer sichtbar." %}
                        </div>
                        <div class="distry__thumbnails">
                            <div class="distry__user" v-for="count in row2">

                            </div>
                        </div>
                    </div>
                    <div class="distry">
                        <div class="distry__description" style="background-color: #9FE2BF; color: #626262;">
                            {% trans "Ich fühle wie meine Talente von dir gesehen und einbezogen werden." %}
                        </div>
                        <div class="distry__thumbnails">
                            <div class="distry__user" v-for="count in row3">

                            </div>
                        </div>
                    </div>
                    <div class="distry">
                        <div class="distry__description" style="background-color: #fa5252; color: white;">
                            {% trans "Ich habe das Gefühl du reagierst auf Fehler mit Schuldzuweisungen an Einzelne im Team." %}
                        </div>
                        <div class="distry__thumbnails">
                            <div class="distry__user" v-for="count in row4">

                            </div>
                        </div>
                    </div>
                    <div class="distry">
                        <div class="distry__description" style="background-color: #FAE03C; color: #626262;">
                            {% trans "Mir fällt es mitunter schwer dich um Hilfe zu bitten." %}
                        </div>
                        <div class="distry__thumbnails">
                            <div class="distry__user" v-for="count in row5">

                            </div>
                        </div>
                    </div>
                </div>

                <p>
                    {% trans "Jeder graue Kreis steht für eine Person, die von einem Mitreisenden dorthin gewählt wurde. Was denkst du wohl, wo deine Spielfiguren stehen? Tauscht euch kurz zu dieser Frage aus und notiere, wenn du magst, deine Einschätzung. Die Auflösung erfolgt zum Schluss der Reise." %}
                </p>

                <div class="center">

                        <p>
                        <a href="/potential-result">
                        <button class="button" type="button">
                            {% trans "Weiter" %}
                        </button>
                        </p>
                </div>
            </main>
        </div>
    </div>
</div>
</body>
<!-- vue  -->
<script src="/static/vue.js"></script>
<script>

    var app = new Vue({
        delimiters: ['[[', ']]'],
        el: '#app-1',
        data() {
            return {
                message: 'Hello Vue!',
                row0: {{row0}},
                row1: {{row1}},
                row2: {{row2}},
                row3: {{row3}},
                row4: {{row4}},
                row5: {{row5}},
                score: '{{score}}',
            }
        },
        methods: {
            handleSelect(key, keyPath) {
                console.log(key, keyPath);
            },
        },
        computed: {
            widthCalc: function () {
                if(this.score.length > 1) {
                    return (100 - Number(this.score.replace(',', ".")) / 5 * 5)+"%"
                }
                else {
                    return (100 - Number(this.score) / 5 * 5)+'%'
                }
            }
        }
    })
    let row = {{row0}};
</script>
</html>

